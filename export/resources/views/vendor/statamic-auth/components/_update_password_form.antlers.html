<form
    class="p-6 lg:p-10 bg-grey-100 rounded-2xl flex flex-col gap-4 lg:gap-6 items-start"
    action="{{ route:auth.account.password.update }}"
    method="POST"
    x-data="passwordRules"
    novalidate
>
    <input type="hidden" name="_token" value="{{ csrf_token }}" />
    {{ partial:statamic-auth::method method="PATCH" }}

    {{ partial:typography/h4 as="h1" content="My Password" weight="font-semibold" class="text-center w-full" }}

    <div class="flex w-full flex-col gap-3 lg:gap-4">
        {{ partial:vendor/statamic/forms/field_wrapper }}
            {{ partial:vendor/statamic/forms/label handle="current_password" title="Current Password" }}

            {{ partial:vendor/statamic/forms/error
                id="current_password"
                error="{get_error:current_password}"
            }}

            {{ partial:vendor/statamic/forms/fields/password
                handle="current_password"
                autocomplete="current-password"
                no_js="true"
                error="{get_error:current_password}"
            }}
            {{ /partial:vendor/statamic/forms/fields/password }}

        {{ /partial:vendor/statamic/forms/field_wrapper }}

        {{ partial:vendor/statamic/forms/field_wrapper }}
            {{ partial:vendor/statamic/forms/label handle="new_password" title="New Password" }}

            {{ partial:vendor/statamic/forms/error
                id="new_password"
                error="{get_error:new_password}"
            }}

            {{ partial:vendor/statamic/forms/fields/password
                handle="new_password"
                autocomplete="new-password"
                no_js="true"
                error="{get_error:new_password}"
            }}
                {{ slot:attributes }}
                    x-model="password"
                {{ /slot:attributes }}
            {{ /partial:vendor/statamic/forms/fields/password }}

        {{ /partial:vendor/statamic/forms/field_wrapper }}

        {{ partial:vendor/statamic/forms/field_wrapper }}
            {{ partial:vendor/statamic/forms/label handle="new_password_confirmation" title="Confirm Password" }}

            {{ partial:vendor/statamic/forms/error
                id="new_password_confirmation"
                error="{get_error:new_password_confirmation}"
            }}

            {{ partial:vendor/statamic/forms/fields/password
                handle="new_password_confirmation"
                autocomplete="new-password"
                no_js="true"
                error="{get_error:new_password_confirmation}"
            }}
            {{ /partial:vendor/statamic/forms/fields/password }}

        {{ /partial:vendor/statamic/forms/field_wrapper }}
    </div>

    {{ partial:statamic-auth::components/password_rules }}

    {{ partial:components/button
        as="button"
        label="Update Password"
        size="sm"
        color="secondary"
    }}
</form>
